{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/hydralfo.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "\n// eslint-disable-next-line no-empty-function\nconst ud = ((function () {})());\n\nexport const mix_values = (a, b, m) => (m === 0 ? a : (m === 1 ? b : (a * (1 - m)) + (b * m)));\n\nexport const undefault = (x, def) => {\n    if (typeof x === 'undefined') {\n        return def;\n    }\n    return x;\n};\n\nexport const expand_args = (arg_def, args) => {\n    const vals = {...undefault(arg_def, {})};\n\n    if (typeof args !== 'undefined' && args.length > 0) {\n        const [first] = args;\n        if (typeof first === 'object' && !Array.isArray(first)) {\n            for (const x in arg_def) {\n                if (x in first) {\n                    vals[x] = first[x];\n                }\n            }\n        } else {\n            let defkeys = Object.keys(arg_def);\n            defkeys = defkeys.slice(0, Math.min(defkeys.length, args.length));\n            defkeys.forEach((k, i) => {\n                vals[k] = args[i];\n            });\n        }\n    }\n\n    Object.keys(vals).forEach((x) => {\n        const vx = vals[x];\n        const ax = arg_def[x];\n\n        if (typeof vx === 'function') {\n            vals[x] = (call_args, call_gen_args) => {\n                let nargs = call_args;\n                if (typeof nargs === 'undefined') {\n                    nargs = [];\n                }\n                return undefault(vx(...nargs, call_gen_args), ax);\n            };\n        } else if (typeof vx === 'undefined') {\n            vals[x] = () => ax;\n        } else {\n            vals[x] = () => vx;\n        }\n    });\n\n    return vals;\n};\n\nexport const get_time = (args) => {\n    let time = ud;\n    if (typeof args === 'object' && !Array.isArray(args)) {\n        const {time: atime} = args;\n        time = atime;\n    }\n\n    if (typeof time !== 'undefined') {\n        return time;\n    }\n    if (typeof window !== 'undefined' && typeof window.time !== 'undefined') {\n        return window.time;\n    }\n    return new Date().getTime() / 1000.0;\n};\n\nexport const freeze_values = (v, args, gen_args) => {\n    if (typeof v === 'undefined') {\n        return v;\n    }\n    if (typeof v === 'function') {\n        return v(...args, gen_args);\n    }\n    if (Array.isArray(v)) {\n        return v.map((x) => freeze_values(x, args, gen_args));\n    }\n    return v;\n};\n\nconst _functions = {};\n\n_functions.add = (args) => {\n    const {v: value} = expand_args({v: 0}, args);\n\n    return (run_args, gen_args) => {\n        const vv = freeze_values(value, run_args, gen_args);\n        return undefault(gen_args.input, 0) + vv;\n    };\n};\n\n_functions.speed = (args) => {\n    const {v: value, m: mix} = expand_args({v: ud, m: ud}, args);\n\n    return (run_args, gen_args) => {\n        const [vv, mv] = freeze_values([value, mix], run_args, gen_args);\n        \n        let time_scale = 1;\n        if (typeof vv === 'undefined') {\n            if (typeof input !== 'undefined') {\n                time_scale = gen_args.input;\n            }\n        } else if (typeof input === 'undefined') {\n            time_scale = vv;\n        } else if (typeof mv === 'undefined') {\n            time_scale = vv;\n        } else {\n            time_scale = mix_values(vv, gen_args.input, mv);\n        }\n\n        gen_args.values.time = time_scale * gen_args.values.time;\n\n        return gen_args.input;\n    };\n};\n\n_functions.fast = (args) => {\n    const {s: scale, o: offset, m: mix} = expand_args({s: ud, o: 0, m: 0}, args);\n    return (run_args, gen_args) => {\n        const [sv, ov, mv] = freeze_values([scale, offset, mix], run_args, gen_args);\n        \n        let time_scale = 1;\n        if (typeof input === 'undefined') {\n            if (typeof sv !== 'undefined') {\n                time_scale = sv;\n            }\n        } else if (typeof sv === 'undefined') {\n            time_scale = gen_args.input;\n        } else {\n            time_scale = mix_values(sv, gen_args.input, mv);\n        }\n\n        gen_args.values.time = (time_scale * gen_args.values.time) + ov;\n        \n        return gen_args.input;\n    };\n};\n\n_functions.time = (args) => {\n    const {s: scale, o: offset} = expand_args({s: 1, o: 0}, args);\n\n    return (run_args, gen_args) => {\n        const [sv, ov] = freeze_values([scale, offset], run_args, gen_args);\n\n        return (get_time(...run_args) * sv) + ov;\n    };\n};\n\n_functions.rnd = (args) => {\n    const {s: scale, o: offset, m: mix} = expand_args({s: 1, o: 0, m: 0}, args);\n\n    return (run_args, gen_args) => {\n        const [sv, ov, mv] = freeze_values([scale, offset, mix], run_args, gen_args);\n\n        let svx = 1;\n        if (typeof input === 'undefined') {\n            if (typeof sv !== 'undefined') {\n                svx = sv;\n            }\n        } else if (typeof sv === 'undefined') {\n            svx = gen_args.input;\n        } else {\n            svx = mix_values(svx, gen_args.input, mv);\n        }\n\n        return (Math.random() * svx) + ov;\n    };\n};\n\n_functions.range = (args) => {\n    const {u: upper, l: lower, s: step} = expand_args({u: 10, l: 0, s: 1}, args);\n\n    return (run_args, gen_args) => {\n        const [sv, uv, lv] = freeze_values([step, upper, lower], run_args, gen_args);\n        \n        let npi = 0;\n        if (gen_args.private_state.prev) {\n            const {spi = 0} = gen_args.private_state.prev;\n\n            npi = spi + sv + gen_args.input;\n\n            if (npi >= uv) {\n                npi = lv;\n            }\n\n            if (npi < lv && sv < 0) {\n                npi = uv;\n            }\n        } else if (sv > 0) {\n            npi = lv;\n        } else {\n            npi = uv;\n        }\n\n        gen_args.private_state.prev = {spi: npi};\n\n        return npi;\n    };\n};\n\n_functions.iter = (args) => {\n    const {v: values, s: step} = expand_args({v: [0, 1], s: 1}, args);\n\n    return (run_args, gen_args) => {\n        const [vv, sv] = freeze_values([values, step], run_args, gen_args);\n\n        let {pi = 0} = gen_args.private_state.prev ? gen_args.private_state.prev : {};\n\n        if (gen_args.private_state.prev) {\n            pi = sv + pi + undefault(gen_args.input, 0);\n        }\n        gen_args.private_state.prev = {pi};\n\n        const vs = vv;\n        let idx = Math.floor(pi);\n\n        idx = idx % vs.length;\n\n        const val = vs[idx];\n\n        if (typeof val === 'function') {\n            return val(...run_args);\n        }\n        return val;\n    };\n};\n\n_functions.choose = (args) => {\n    const {v: values, s: scale} = expand_args({v: [0, 1], s: 1}, args);\n\n    return (run_args, gen_args) => {\n        const [vv, sv] = freeze_values([values, scale], run_args, gen_args);\n\n        if (vv.length === 0) {\n            return 0;\n        }\n        \n        let idx = undefault(gen_args.input, 0);\n        idx = idx * sv;\n\n        idx = Math.floor(Math.abs(idx));\n        idx = idx % vv.length;\n\n        let val = vv[idx];\n\n        const fmark = `choose_mark_${new Date().getTime()}`;\n        let maxcnt = 10;\n\n        while (typeof val === 'function') {\n            const fn = val;\n            fn.__choose_mark = fmark;\n\n            val = fn(...run_args, gen_args);\n            if (maxcnt-- <= 0 || (typeof val === 'function' && val.__choose_mark === fmark)) {\n                // loop detected\n                val = 0;\n                break;\n            }\n\n            delete fn.__choose_mark;\n        }\n        return val;\n    };\n};\n\n_functions.sin = (...args) => {\n    const {f: frequency, s: scale, o: offset} = expand_args({f: 1, s: 1, o: 0}, args);\n\n    return (run_args, gen_args) => {\n        const [fv, sv, ov] = freeze_values([frequency, scale, offset], run_args, gen_args);\n        let time = 0;\n\n        if (gen_args.input) {\n            time = gen_args.input;\n        } else {\n            time = get_time(...run_args, gen_args);\n        }\n\n        return (((Math.sin(time * 2 * Math.PI * fv) / 2) + 0.5) * sv) + ov;\n    };\n};\n\n_functions.floor = (args) => {\n    const {d: digits} = expand_args({d: 0}, args);\n\n    return (run_args, gen_args) => {\n        const dv = freeze_values(digits, run_args, gen_args);\n        const fact = Math.power(10, dv);\n\n        return Math.floor(gen_args.input * fact) / fact;\n    };\n};\n\n_functions.set = (args) => {\n    const {v: value} = expand_args({v: 0}, args);\n\n    return (run_args, gen_args) => {\n        const vv = freeze_values(value, run_args, gen_args);\n        return vv;\n    };\n};\n\n_functions.mul = (args) => {\n    const {v: value} = expand_args({v: 0}, args);\n\n    return (run_args, gen_args) => {\n        const vv = freeze_values(value, run_args, gen_args);\n        return gen_args.input * vv;\n    };\n};\n\n_functions.div = (args) => {\n    const {v: value} = expand_args({v: 1}, args);\n\n    return (run_args, gen_args) => {\n        const vv = freeze_values(value, run_args, gen_args);\n\n        const definput = undefault(gen_args.input, 0);\n        \n        if (vv === 0) {\n            return definput / 0.0000000000001;\n        }\n        return definput / vv;\n    };\n};\n\n_functions.mod = (args) => {\n    const {v: value} = expand_args({v: 1}, args);\n\n    return (run_args, gen_args) => {\n        const vv = freeze_values(value, run_args, gen_args);\n        \n        if (vv === 0) {\n            return 0;\n        }\n        return undefault(gen_args.input, 0) % vv;\n    };\n};\n\n_functions.slew = (args) => {\n    const {r: rate, x: max} = expand_args({r: 1, x: Number.MAX_VALUE}, args);\n\n    return (run_args, gen_args) => {\n        const [rv, xv] = freeze_values([rate, max], run_args, gen_args);\n\n        if (!gen_args.private_state.prev) {\n            gen_args.private_state.prev = gen_args.input;\n        }\n        let genin = gen_args.input;\n        if (typeof genin === 'undefined') {\n            genin = gen_args.private_state.prev;\n        }\n\n        let diff = (genin - gen_args.private_state.prev);\n\n        if (rv > 0) {\n            diff = diff * (1 - (1 / rv));\n        }\n        if (diff > 0) {\n            if (diff > xv) {\n                diff = xv;\n            }\n        } else if (diff < -xv) {\n            diff = -xv;\n        }\n\n        const nv = gen_args.private_state.prev + diff;\n\n        gen_args.private_state.prev = nv;\n\n        return nv;\n    };\n};\n\n_functions.map = (args) => {\n    const {f: func} = expand_args({f: (x) => x}, args);\n\n    return (run_args, gen_args) => func(...run_args, gen_args);\n};\n\n_functions.beats = (args) => {\n    const {s: scale, b: sbpm} = expand_args({s: 1, b: ud}, args);\n\n    return (run_args, gen_args) => {\n        const [sv, bv] = freeze_values([scale, sbpm], run_args, gen_args);\n        const {time, bpm} = run_args;\n        \n        let abpm = bv;\n        if (typeof abpm === 'undefined') {\n            abpm = bpm;\n        }\n\n        gen_args.values.time = undefault(time, 0) / 60 * abpm * sv;\n\n        return gen_args.input;\n    };\n};\n\n_functions.use = (args) => {\n    const {n: name, c: copy} = expand_args({n: \"val\", c: false}, args);\n\n    return (run_args, gen_args) => {\n        const [nv, cv] = freeze_values([name, copy], run_args, gen_args);\n\n        let ret = gen_args.values[nv];\n        \n        if (cv) {\n            ret = gen_args.input;\n        }\n        gen_args.current_value = nv;\n\n        return ret;\n    };\n};\n\n_functions.noop = () => ((_, gen_args) => gen_args.input);\n_functions.gen = _functions.noop;\n\n_functions.used = () => ((_, gen_args) => gen_args.current_value);\n\nconst run_calls = (global_state, instance_state, calls, args) => {\n    let run_args = args;\n    if (typeof run_args === 'undefined' || run_args.length === 0) {\n        run_args = [{}];\n    }\n    if (typeof run_args[0] === 'undefined') {\n        run_args[0] = {};\n    }\n\n    const gen_args = {\n        input: ud\n        , current_value: \"val\"\n        , values: {\n            val: ud\n            , initial_args: args\n            , ...run_args[0]\n        }\n        , global_state\n        , instance_state\n        , private_state: {}\n    };\n\n    gen_args.values.initial_time = get_time(gen_args.values);\n    gen_args.values.time = gen_args.values.initial_time;\n\n    run_args[0] = gen_args.values;\n\n    calls.forEach(([fncall, private_state]) => {\n        gen_args.private_state = private_state;\n        gen_args.input = gen_args.values[gen_args.current_value];\n\n        const res = fncall(run_args, gen_args);\n\n        gen_args.values[gen_args.current_value] = res;\n    });\n    \n    const rval = gen_args.values[gen_args.current_value];\n    if (typeof rval === 'undefined') {\n        return 0;\n    }\n\n    return rval;\n};\n\nconst sub_call = (global_state, prev_calls, fun) => {\n    const calls = prev_calls.map((x) => [x, {}]);\n    const instance_state = {};\n\n    if (typeof fun !== 'undefined') {\n        calls.push([fun, {}]);\n    }\n\n    const rfun = (...args) => run_calls(global_state, instance_state, calls, args);\n    rfun.run = rfun;\n\n    Object.entries(_functions).forEach(([name, gen]) => {\n        rfun[name] = (...args) => sub_call(\n            global_state\n            , calls.map(([call]) => call)\n            , gen(args)\n        );\n    });\n\n    return rfun;\n};\n\nexport const start = (global_state = {}) => sub_call(global_state, []);\n\nconst setup_init_call = (fun, ...args) => (start()[fun])(...args);\n\n/* eslint-disable no-multi-spaces */\nexport const add    = (...args) => setup_init_call(\"add\", ...args);\nexport const time   = (...args) => setup_init_call(\"time\", ...args);\nexport const speed  = (...args) => setup_init_call(\"speed\", ...args);\nexport const fast   = (...args) => setup_init_call(\"fast\", ...args);\nexport const mul    = (...args) => setup_init_call(\"mul\", ...args);\nexport const mod    = (...args) => setup_init_call(\"mod\", ...args);\nexport const div    = (...args) => setup_init_call(\"div\", ...args);\nexport const range  = (...args) => setup_init_call(\"rang\", ...args);\nexport const iter   = (...args) => setup_init_call(\"iter\", ...args);\nexport const choose = (...args) => setup_init_call(\"choose\", ...args);\nexport const slew   = (...args) => setup_init_call(\"slew\", ...args);\nexport const set    = (...args) => setup_init_call(\"set\", ...args);\nexport const rnd    = (...args) => setup_init_call(\"rnd\", ...args);\nexport const use    = (...args) => setup_init_call(\"use\", ...args);\nexport const used   = (...args) => setup_init_call(\"used\", ...args);\nexport const noop   = (...args) => setup_init_call(\"noop\", ...args);\nexport const gen   =  (...args) => setup_init_call(\"gen\", ...args);\n"
  ]
}