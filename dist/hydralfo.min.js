(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.hydralfo = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.gen=exports.noop=exports.used=exports.use=exports.rnd=exports.set=exports.slew=exports.choose=exports.iter=exports.range=exports.div=exports.mod=exports.mul=exports.fast=exports.speed=exports.time=exports.add=exports.start=exports.freeze_values=exports.get_time=exports.expand_args=exports.undefault=exports.mix_values=void 0;function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}// eslint-disable-next-line no-empty-function
var ud=function(){}(),mix_values=function(c,a,b){return 0===b?c:1===b?a:c*(1-b)+a*b};exports.mix_values=mix_values;var undefault=function(a,b){return"undefined"==typeof a?b:a};exports.undefault=undefault;var expand_args=function(a,b){var c=Math.min,d=_objectSpread({},undefault(a,{}));if("undefined"!=typeof b&&0<b.length){var e=_slicedToArray(b,1),f=e[0];if("object"===_typeof(f)&&!Array.isArray(f))for(var g in a)g in f&&(d[g]=f[g]);else{var h=Object.keys(a);h=h.slice(0,c(h.length,b.length)),h.forEach(function(a,c){d[a]=b[c]})}}return Object.keys(d).forEach(function(b){var c=d[b],e=a[b];d[b]="function"==typeof c?function(a,b){var d=a;return"undefined"==typeof d&&(d=[]),undefault(c.apply(void 0,_toConsumableArray(d).concat([b])),e)}:"undefined"==typeof c?function(){return e}:function(){return c}}),d};exports.expand_args=expand_args;var get_time=function(a){var b=ud;if("object"===_typeof(a)&&!Array.isArray(a)){var c=a.time;b=c}return"undefined"==typeof b?"undefined"!=typeof window&&"undefined"!=typeof window.time?window.time:new Date().getTime()/1e3:b};exports.get_time=get_time;var freeze_values=function(a,b,c){return"undefined"==typeof a?a:"function"==typeof a?a.apply(void 0,_toConsumableArray(b).concat([c])):Array.isArray(a)?a.map(function(a){return freeze_values(a,b,c)}):a};exports.freeze_values=freeze_values;var _functions={};_functions.add=function(a){var b=expand_args({v:0},a),c=b.v;return function(a,b){var d=freeze_values(c,a,b);return undefault(b.input,0)+d}},_functions.speed=function(a){var b=expand_args({v:ud,m:ud},a),c=b.v,d=b.m;return function(a,b){var e=freeze_values([c,d],a,b),f=_slicedToArray(e,2),g=f[0],h=f[1],i=1;return"undefined"==typeof g?"undefined"!=typeof input&&(i=b.input):"undefined"==typeof input?i=g:"undefined"==typeof h?i=g:i=mix_values(g,b.input,h),b.values.time=i*b.values.time,b.input}},_functions.fast=function(a){var b=expand_args({s:ud,o:0,m:0},a),c=b.s,d=b.o,e=b.m;return function(a,b){var f=freeze_values([c,d,e],a,b),g=_slicedToArray(f,3),h=g[0],i=g[1],j=g[2],k=1;return"undefined"==typeof input?"undefined"!=typeof h&&(k=h):"undefined"==typeof h?k=b.input:k=mix_values(h,b.input,j),b.values.time=k*b.values.time+i,b.input}},_functions.time=function(a){var b=expand_args({s:1,o:0},a),c=b.s,d=b.o;return function(a,b){var e=freeze_values([c,d],a,b),f=_slicedToArray(e,2),g=f[0],h=f[1];return get_time.apply(void 0,_toConsumableArray(a))*g+h}},_functions.rnd=function(a){var b=expand_args({s:1,o:0,m:0},a),c=b.s,d=b.o,e=b.m;return function(a,b){var f=freeze_values([c,d,e],a,b),g=_slicedToArray(f,3),h=g[0],i=g[1],j=g[2],k=1;return"undefined"==typeof input?"undefined"!=typeof h&&(k=h):"undefined"==typeof h?k=b.input:k=mix_values(k,b.input,j),Math.random()*k+i}},_functions.range=function(a){var b=expand_args({u:10,l:0,s:1},a),c=b.u,d=b.l,e=b.s;return function(a,b){var f=freeze_values([e,c,d],a,b),g=_slicedToArray(f,3),h=g[0],i=g[1],j=g[2],k=0;if(b.private_state.prev){var l=b.private_state.prev.spi,m=void 0===l?0:l;k=m+h+b.input,k>=i&&(k=j),k<j&&0>h&&(k=i)}else k=0<h?j:i;return b.private_state.prev={spi:k},k}},_functions.iter=function(a){var b=expand_args({v:[0,1],s:1},a),c=b.v,d=b.s;return function(a,b){var e=freeze_values([c,d],a,b),f=_slicedToArray(e,2),g=f[0],h=f[1],i=b.private_state.prev?b.private_state.prev:{},j=i.pi,k=void 0===j?0:j;b.private_state.prev&&(k=h+k+undefault(b.input,0)),b.private_state.prev={pi:k};var l=g,m=Math.floor(k);m%=l.length;var n=l[m];return"function"==typeof n?n.apply(void 0,_toConsumableArray(a)):n}},_functions.choose=function(a){var b=expand_args({v:[0,1],s:1},a),c=b.v,d=b.s;return function(a,b){var e=freeze_values([c,d],a,b),f=_slicedToArray(e,2),g=f[0],h=f[1];if(0===g.length)return 0;var i=undefault(b.input,0);i*=h,i=Math.floor(Math.abs(i)),i%=g.length;for(var j,k=g[i],l="choose_mark_".concat(new Date().getTime()),m=10;"function"==typeof k;){if(j=k,j.__choose_mark=l,k=j.apply(void 0,_toConsumableArray(a).concat([b])),0>=m--||"function"==typeof k&&k.__choose_mark===l){k=0;break}delete j.__choose_mark}return k}},_functions.sin=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=expand_args({f:1,s:1,o:0},b),e=d.f,f=d.s,g=d.o;return function(a,b){var c=Math.sin,d=Math.PI,h=freeze_values([e,f,g],a,b),i=_slicedToArray(h,3),j=i[0],k=i[1],l=i[2],m=0;return m=b.input?b.input:get_time.apply(void 0,_toConsumableArray(a).concat([b])),(c(2*m*d*j)/2+.5)*k+l}},_functions.floor=function(a){var b=expand_args({d:0},a),c=b.d;return function(a,b){var d=freeze_values(c,a,b),e=Math.power(10,d);return Math.floor(b.input*e)/e}},_functions.set=function(a){var b=expand_args({v:0},a),c=b.v;return function(a,b){var d=freeze_values(c,a,b);return d}},_functions.mul=function(a){var b=expand_args({v:0},a),c=b.v;return function(a,b){var d=freeze_values(c,a,b);return b.input*d}},_functions.div=function(a){var b=expand_args({v:1},a),c=b.v;return function(a,b){var d=freeze_values(c,a,b),e=undefault(b.input,0);return 0===d?e/1e-13:e/d}},_functions.mod=function(a){var b=expand_args({v:1},a),c=b.v;return function(a,b){var d=freeze_values(c,a,b);return 0===d?0:undefault(b.input,0)%d}},_functions.slew=function(a){var b=expand_args({r:1,x:Number.MAX_VALUE},a),c=b.r,d=b.x;return function(a,b){var e=freeze_values([c,d],a,b),f=_slicedToArray(e,2),g=f[0],h=f[1];b.private_state.prev||(b.private_state.prev=b.input);var i=b.input;"undefined"==typeof i&&(i=b.private_state.prev);var j=i-b.private_state.prev;0<g&&(j*=1-1/g),0<j?j>h&&(j=h):j<-h&&(j=-h);var k=b.private_state.prev+j;return b.private_state.prev=k,k}},_functions.map=function(a){var b=expand_args({f:function f(a){return a}},a),c=b.f;return function(a,b){return c.apply(void 0,_toConsumableArray(a).concat([b]))}},_functions.beats=function(a){var b=expand_args({s:1,b:ud},a),c=b.s,d=b.b;return function(a,b){var e=freeze_values([c,d],a,b),f=_slicedToArray(e,2),g=f[0],h=f[1],i=a.time,j=a.bpm,k=h;return"undefined"==typeof k&&(k=j),b.values.time=undefault(i,0)/60*k*g,b.input}},_functions.use=function(a){var b=expand_args({n:"val",c:!1},a),c=b.n,d=b.c;return function(a,b){var e=freeze_values([c,d],a,b),f=_slicedToArray(e,2),g=f[0],h=f[1],i=b.values[g];return h&&(i=b.input),b.current_value=g,i}},_functions.noop=function(){return function(a,b){return b.input}},_functions.gen=_functions.noop,_functions.used=function(){return function(a,b){return b.current_value}};var run_calls=function(a,b,c,d){var e=d;("undefined"==typeof e||0===e.length)&&(e=[{}]),"undefined"==typeof e[0]&&(e[0]={});var f={input:ud,current_value:"val",values:_objectSpread({val:ud,initial_args:d},e[0]),global_state:a,instance_state:b,private_state:{}};f.values.initial_time=get_time(f.values),f.values.time=f.values.initial_time,e[0]=f.values,c.forEach(function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];f.private_state=d,f.input=f.values[f.current_value];var g=c(e,f);f.values[f.current_value]=g});var g=f.values[f.current_value];return"undefined"==typeof g?0:g},sub_call=function(a,b,c){var d=b.map(function(a){return[a,{}]}),e={};"undefined"!=typeof c&&d.push([c,{}]);var f=function(){for(var b=arguments.length,c=Array(b),f=0;f<b;f++)c[f]=arguments[f];return run_calls(a,e,d,c)};return f.run=f,Object.entries(_functions).forEach(function(b){var c=_slicedToArray(b,2),e=c[0],g=c[1];f[e]=function(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return sub_call(a,d.map(function(a){var b=_slicedToArray(a,1),c=b[0];return c}),g(c))}}),f},start=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return sub_call(a,[])};exports.start=start;var setup_init_call=function(a){for(var b,c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return(b=start())[a].apply(b,d)},add=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["add"].concat(b))};/* eslint-disable no-multi-spaces */exports.add=add;var time=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["time"].concat(b))};exports.time=time;var speed=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["speed"].concat(b))};exports.speed=speed;var fast=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["fast"].concat(b))};exports.fast=fast;var mul=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["mul"].concat(b))};exports.mul=mul;var mod=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["mod"].concat(b))};exports.mod=mod;var div=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["div"].concat(b))};exports.div=div;var range=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["rang"].concat(b))};exports.range=range;var iter=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["iter"].concat(b))};exports.iter=iter;var choose=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["choose"].concat(b))};exports.choose=choose;var slew=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["slew"].concat(b))};exports.slew=slew;var set=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["set"].concat(b))};exports.set=set;var rnd=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["rnd"].concat(b))};exports.rnd=rnd;var use=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["use"].concat(b))};exports.use=use;var used=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["used"].concat(b))};exports.used=used;var noop=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["noop"].concat(b))};exports.noop=noop;var gen=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return setup_init_call.apply(void 0,["gen"].concat(b))};exports.gen=gen;

},{}]},{},[1])(1)
});
//# sourceMappingURL=hydralfo.min.js.map
